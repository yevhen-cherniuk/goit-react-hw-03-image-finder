{"version":3,"sources":["services/apiService.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["fetchImages","currentPage","searchQuery","pageSize","axios","get","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","id","ImageGalleryItem","images","onClick","map","webformatURL","tags","largeImageURL","src","alt","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","App","isLoading","error","showModal","onChangeQuery","getImages","options","prevState","catch","finally","scrollTo","top","scrollHeight","behavior","toggleModal","handleClick","image","prevProps","renderLoadButton","length","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6cba6c90.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst fetchImages = ({ currentPage = 1, searchQuery = \"\", pageSize = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&per_page=${pageSize}&key=22160313-e91a771b5e7a864218f279eb9&image_type=photo&orientation=horizontal`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default fetchImages;","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGallery = ({ children }) => (\r\n  <ul id=\"imageGallery\" className=\"ImageGallery\">\r\n    {children}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ images, onClick }) =>\r\n  images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n    <li className=\"ImageGalleryItem\" key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={() => {\r\n          onClick(largeImageURL);\r\n        }}\r\n      />\r\n    </li>\r\n  ));\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","const Button = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} type=\"button\" className=\"Button\">\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport class Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.object.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleOverlayClick}>\r\n        <div className=\"Modal\">{children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from \"react\";\n\nimport \"./styles.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport fetchImages from \"./services/apiService\";\nimport Loader from \"react-loader-spinner\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\n\nexport class App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n    largeImageURL: \"\",\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.getImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  getImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    fetchImages(options)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.querySelector(\"#imageGallery\").scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  handleClick = (image) => {\n    this.toggleModal();\n    this.setState({ largeImageURL: image });\n  };\n\n  render() {\n    const { images, isLoading, error, showModal, largeImageURL } = this.state;\n    const renderLoadButton = images.length > 0 && !isLoading;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        {error && <h2>Please try again your request</h2>}\n\n        <ImageGallery>\n          <ImageGalleryItem images={images} onClick={this.handleClick} />\n        </ImageGallery>\n\n        {isLoading && (\n          <Loader\n            className=\"Loader\"\n            type=\"Circles\"\n            color=\"#111e47\"\n            height={100}\n            width={100}\n          />\n        )}\n\n        {renderLoadButton && <Button onClick={this.getImages} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}